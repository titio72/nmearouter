package com.aboni.nmea.router.services;import com.aboni.nmea.router.track.TrackAnalyticsByDate;import com.aboni.utils.ServerLog;import com.aboni.utils.ThingsFactory;import org.json.JSONObject;import java.time.Instant;public class DayInfoService extends JSONWebService {    public DayInfoService() {        super();        setLoader(this::getResult);    }    private JSONObject getResult(ServiceConfig config) throws JSONGenerationException {        try {            Instant cFrom = config.getParamAsInstant("from", Instant.now().minusSeconds(86400), 0);            Instant cTo = config.getParamAsInstant("to", Instant.now(), 1);            TrackAnalyticsByDate an = ThingsFactory.getInstance(TrackAnalyticsByDate.class);            return an.getAnalysis(cFrom, cTo);        } catch (Exception e) {            ServerLog.getLogger().error("Error reading daily stats", e);            throw new JSONGenerationException("Error reading daily stats", e);        }    }}